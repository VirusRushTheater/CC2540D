#include <iostream>
#include <vector>
#include <unistd.h>

#include "serialcommunicator.h"

using namespace std;

SerialCommunicator  sc;

unsigned char begincode[] = {0x01, 0x00, 0xFE, 0x26, 0x08, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00};

int main()
{
    try
    {
        sc.init(0x0451, 0x16AA, 1, 0x84, 0x04);
        cout << endl << sizeof(begincode) << endl;
        sc.send(begincode, sizeof(begincode));
        sc.startCommunication();
        sleep(2);
        sc.stopCommunication();
    }
    catch(std::string p)
    {
        sc.printLastError();
    }

    return 0;
}

